(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},32:function(e,t,a){e.exports=a(75)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),i=(a(38),a(27)),l=a(28),s=a(30),m=a(29),u=a(31);a(39),a(40),a(22);var p=function(){return r.a.createElement("div",{className:"container location-container"},r.a.createElement("div",{className:"title-section"},r.a.createElement("img",{src:"/images/logo.svg",alt:""})),r.a.createElement("div",{className:"main-section"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"waiting-img"},r.a.createElement("img",{src:"/images/pluto-coming-soon.png",alt:""})),r.a.createElement("div",{className:"waiting-title"},"\ubbf8\uc138\uba3c\uc9c0 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4!"))))},d=a(20);a(41);function g(e){var t=e.pm10Value,a=e.pm25Value,n=Number(t)+Number(a);return console.log("TCL: DustInfo -> sum",n),n>225?r.a.createElement("p",{className:"dust-info-4"},"\ub9e4\uc6b0 \ub098\uc068"):n>115?r.a.createElement("p",{className:"dust-info-3"},"\ub098\uc068"):n>35?r.a.createElement("p",{className:"dust-info-2"},"\ubcf4\ud1b5"):r.a.createElement("p",{className:"dust-info-1"},"\uc88b\uc74c")}var v=function(e){var t=e.pm10Value,a=e.pm25Value,n=e.pm10Value24,o=e.pm25Value24,c=e.o3Value,i=e.district;return r.a.createElement("div",{className:"container dust-container"},r.a.createElement("div",{className:"title-section"},r.a.createElement("img",{src:"/images/logo.svg",alt:""})),r.a.createElement("div",{className:"main-section"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"dust-title"},"\ud604\uc7ac ",r.a.createElement("span",{className:"dust-titls-district"},i)," \ubbf8\uc138\uba3c\uc9c0\ub294..",r.a.createElement(g,{pm10Value:t,pm25Value:a}))),r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"dust-info-list-wrapper"},r.a.createElement("div",{className:"dust-info-list-title"},"\uc0c1\uc138 \uc815\ubcf4"),r.a.createElement("div",{className:"dust-info-list"},r.a.createElement("ul",{className:"dust-info-ul"},r.a.createElement("li",null,"- pm10Value : ",t),r.a.createElement("li",null,"- pm25Value : ",a),r.a.createElement("li",null,"- pm10Value24 : ",n),r.a.createElement("li",null,"- pm25Value24 : ",o),r.a.createElement("li",null,"- o3Value : ",c))),r.a.createElement(d.FacebookProvider,{appId:"1106858336104667"},r.a.createElement(d.Share,{href:"http://www.facebook.com"},function(e){var t=e.handleClick;return r.a.createElement("button",{className:"facebook-share-btn",type:"button",onClick:t},"Share to Facebook")}))))))},f="KakaoAK c981c546d4e1806ac95ac294b40fc615",h="Nc7DTt1ImQ%2F8JdDmOz0qZQYcbstlIitpt9a6btKCSY1vud%2FvhzZ%2BM2QR4uWjW58IFJ8JWzJ7w9osVarTAn1iSg%3D%3D",E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={serviceReady:0},a.getDistrict=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,n=a.callDistrcitApi(t);Promise.resolve(n).then(function(e){return e}).then(function(e){a.setState({district:e});var t=(e=e.split(" "))[e.length-1];a.callGetTmCoodApi(t)})})},a.callGetTmCoodApi=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/MsrstnInfoInqireSvc/getTMStdrCrdnt?ServiceKey=".concat(h,"&numOfRows=1&PageNo=1&umdName=").concat(e);fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){var t={};t.tmX=e.getElementsByTagName("tmX")[0].innerHTML,t.tmY=e.getElementsByTagName("tmY")[0].innerHTML,a.callGetMonitoringStation(t)})},a.callGetMonitoringStation=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/MsrstnInfoInqireSvc/getNearbyMsrstnList?ServiceKey=".concat(h,"&tmX=").concat(e.tmX,"&tmY=").concat(e.tmY);fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){var t=e.getElementsByTagName("item")[0].getElementsByTagName("stationName")[0].innerHTML;a.getDustInformation(t)})},a.getDustInformation=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty?serviceKey=".concat(h,"&numOfRows=10&pageNo=1&stationName=").concat(e,"&dataTerm=DAILY&ver=1.3");fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){return e.getElementsByTagName("item")[0]}).then(function(e){var t=e.getElementsByTagName("pm10Value")[0].innerHTML;console.log("TCL: pm10Value",t);var n=e.getElementsByTagName("pm25Value")[0].innerHTML;console.log("TCL: pm25Value",n);var r=e.getElementsByTagName("pm10Value24")[0].innerHTML;console.log("TCL: pm10Value24",r);var o=e.getElementsByTagName("pm25Value24")[0].innerHTML;console.log("TCL: pm25Value24",o);var c=e.getElementsByTagName("o3Value")[0].innerHTML;console.log("TCL: o3Value",c),a.setState({serviceReady:1,dust:{pm10Value:t,pm25Value:n,pm10Value24:r,pm25Value24:o,o3Value:c}})})},a.callDistrcitApi=function(e){var t="https://dapi.kakao.com/v2/local/geo/coord2regioncode.json?x=".concat(e.longitude,"&y=").concat(e.latitude);return fetch(t,{headers:{Authorization:f}}).then(function(e){return e.json()}).then(function(e){return e.documents[0].address_name})},a.renderDust=function(){return r.a.createElement(v,{pm10Value:a.state.dust.pm10Value,pm25Value:a.state.dust.pm25Value,pm10Value24:a.state.dust.pm10Value24,pm25Value24:a.state.dust.pm25Value24,o3Value:a.state.dust.o3Value,district:a.state.district})},a.renderLocation=function(){return r.a.createElement(p,null)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getDistrict()}},{key:"render",value:function(){var e=this.state.serviceReady;return r.a.createElement("div",{className:e?"dust":"location"},e?this.renderDust():this.renderLocation())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.0202222b.chunk.js.map