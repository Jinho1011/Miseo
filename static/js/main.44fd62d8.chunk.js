(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){},,,,,,,function(e,t,n){e.exports=n(19)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),i=n.n(o),c=(n(15),n(4)),l=n(5),s=n(7),m=n(6),u=n(8);n(16),n(17),n(2);var p=function(){return r.a.createElement("div",{className:"container location-container"},r.a.createElement("div",{className:"title-section"},r.a.createElement("img",{src:"/images/logo.svg",alt:""})),r.a.createElement("div",{className:"main-section"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"waiting-img"},r.a.createElement("img",{src:"/images/pluto-coming-soon.png",alt:""})),r.a.createElement("div",{className:"waiting-title title"},"\ubbf8\uc138\uba3c\uc9c0 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4!"))))};n(18);var g=function(e){var t=e.pm10Value,n=e.pm25Value,a=e.pm10Value24,o=e.pm25Value24,i=e.o3Value,c=e.district;return r.a.createElement("div",{className:"container dust-container"},r.a.createElement("div",{className:"title-section"},r.a.createElement("img",{src:"/images/logo.svg",alt:""})),r.a.createElement("div",{className:"main-section"},r.a.createElement("div",{className:"main-wrapper"},"\ud604\uc7ac ",c," \ubbf8\uc138\uba3c\uc9c0\ub294..",r.a.createElement("div",{className:"dust-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"pm10 \uc9c0\uc218 :  ",t),r.a.createElement("li",null,"pm25 \uc9c0\uc218 : ",n),r.a.createElement("li",null,"pm10 \uc9c0\uc218 (24\uc2dc\uac04 \uae30\uc900) : ",a),r.a.createElement("li",null,"pm25 \uc9c0\uc218 (24\uc2dc\uac04 \uae30\uc900) : ",o),r.a.createElement("li",null,"\uc624\uc874 \uc9c0\uc218 : ",i))))))},d="KakaoAK c981c546d4e1806ac95ac294b40fc615",v="Nc7DTt1ImQ%2F8JdDmOz0qZQYcbstlIitpt9a6btKCSY1vud%2FvhzZ%2BM2QR4uWjW58IFJ8JWzJ7w9osVarTAn1iSg%3D%3D",h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={serviceReady:0},n.getDistrict=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,a=n.callDistrcitApi(t);Promise.resolve(a).then(function(e){return e}).then(function(e){n.setState({district:e});var t=(e=e.split(" "))[e.length-1];n.callGetTmCoodApi(t)})})},n.callGetTmCoodApi=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/MsrstnInfoInqireSvc/getTMStdrCrdnt?ServiceKey=".concat(v,"&numOfRows=1&PageNo=1&umdName=").concat(e);fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){var t={};t.tmX=e.getElementsByTagName("tmX")[0].innerHTML,t.tmY=e.getElementsByTagName("tmY")[0].innerHTML,n.callGetMonitoringStation(t)})},n.callGetMonitoringStation=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/MsrstnInfoInqireSvc/getNearbyMsrstnList?ServiceKey=".concat(v,"&tmX=").concat(e.tmX,"&tmY=").concat(e.tmY);fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){var t=e.getElementsByTagName("item")[0].getElementsByTagName("stationName")[0].innerHTML;n.getDustInformation(t)})},n.getDustInformation=function(e){var t="http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty?serviceKey=".concat(v,"&numOfRows=10&pageNo=1&stationName=").concat(e,"&dataTerm=DAILY&ver=1.3");fetch("https://cors-anywhere.herokuapp.com/"+t).then(function(e){return e.text()}).then(function(e){return(new DOMParser).parseFromString(e,"text/xml")}).then(function(e){return e.getElementsByTagName("item")[0]}).then(function(e){var t=e.getElementsByTagName("pm10Value")[0].innerHTML;console.log("TCL: pm10Value",t);var a=e.getElementsByTagName("pm25Value")[0].innerHTML;console.log("TCL: pm25Value",a);var r=e.getElementsByTagName("pm10Value24")[0].innerHTML;console.log("TCL: pm10Value24",r);var o=e.getElementsByTagName("pm25Value24")[0].innerHTML;console.log("TCL: pm25Value24",o);var i=e.getElementsByTagName("o3Value")[0].innerHTML;console.log("TCL: o3Value",i),n.setState({serviceReady:1,dust:{pm10Value:t,pm25Value:a,pm10Value24:r,pm25Value24:o,o3Value:i}})})},n.callDistrcitApi=function(e){var t="https://dapi.kakao.com/v2/local/geo/coord2regioncode.json?x=".concat(e.longitude,"&y=").concat(e.latitude);return fetch(t,{headers:{Authorization:d}}).then(function(e){return e.json()}).then(function(e){return e.documents[0].address_name})},n.renderDust=function(){return r.a.createElement(g,{pm10Value:n.state.dust.pm10Value,pm25Value:n.state.dust.pm25Value,pm10Value24:n.state.dust.pm10Value24,pm25Value24:n.state.dust.pm25Value24,o3Value:n.state.dust.o3Value,district:n.state.district})},n.renderLocation=function(){return r.a.createElement(p,null)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getDistrict()}},{key:"render",value:function(){var e=this.state.serviceReady;return r.a.createElement("div",{className:e?"dust":"location"},e?this.renderDust():this.renderLocation())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.44fd62d8.chunk.js.map